{"ast":null,"code":"var _jsxFileName = \"I:\\\\My-work\\\\Web-development\\\\React 2022 Course\\\\trivia-app\\\\src\\\\Components\\\\Context.js\",\n    _s = $RefreshSig$(),\n    _s2 = $RefreshSig$();\n\nimport React, { createContext, useState, useEffect, useContext } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Context = /*#__PURE__*/createContext();\n\nconst useAppContext = () => {\n  _s();\n\n  return useContext(Context);\n};\n\n_s(useAppContext, \"gDsCjeeItUuvgOWf1v4qoK9RF6k=\");\n\nfunction ContextProvider(props) {\n  _s2();\n\n  const [isStartQuiz, setIsStartQuiz] = useState(false);\n  const [arrQuestions, setArrQuestions] = useState([]);\n  const [isPlayAgain, setIsPlayAgain] = useState(false);\n  const [isShuffleAnswers, setIsShuffleAnswers] = useState(false);\n  const [isAPIError, setIsAPIError] = useState(false);\n  const [correctAnswers, setCorrectAnswers] = useState(0);\n  const [score, setScore] = useState(0);\n  const [selectedAnswers, setSelectedAnswers] = useState([]);\n\n  function startQuiz() {\n    setIsShuffleAnswers(true);\n    setIsStartQuiz(true);\n  }\n\n  function newSelectedAnswersArr() {\n    setSelectedAnswers(() => {\n      const newArr = [];\n      arrQuestions.forEach(item => {\n        newArr.push({\n          id: item.correct_answer,\n          selectedAnswer: \"\"\n        });\n      });\n      return newArr;\n    });\n  }\n\n  function checkAnswers() {\n    setIsShuffleAnswers(false);\n    setIsPlayAgain(true);\n    setCorrectAnswers(() => {\n      const correctAnswersArr = selectedAnswers.filter(item => item.selectedAnswer === item.id);\n      return correctAnswersArr.length;\n    });\n  }\n\n  function reset() {\n    setArrQuestions([]);\n    getQuestions();\n    setIsPlayAgain(false);\n    setCorrectAnswers(0);\n    setIsShuffleAnswers(true);\n  }\n\n  function getQuestions() {\n    fetch('https://opentdb.com/api.php?amount=5&difficulty=easy&type=multiple&encode=base64').then(res => res.json()).then(data => setArrQuestions(data.results)).catch(err => {\n      setIsStartQuiz(false);\n      setIsAPIError(true);\n    });\n  }\n\n  useEffect(() => {\n    setScore(prevState => prevState + correctAnswers);\n  }, [correctAnswers]);\n  useEffect(() => {\n    newSelectedAnswersArr();\n  }, [arrQuestions]);\n  useEffect(() => {\n    getQuestions();\n  }, []);\n  return /*#__PURE__*/_jsxDEV(Context.Provider, {\n    value: {\n      startQuiz,\n      isStartQuiz,\n      arrQuestions,\n      setCorrectAnswers,\n      checkAnswers,\n      isPlayAgain,\n      correctAnswers,\n      reset,\n      score,\n      isShuffleAnswers,\n      setSelectedAnswers,\n      selectedAnswers,\n      isAPIError\n    },\n    children: props.children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 75,\n    columnNumber: 9\n  }, this);\n}\n\n_s2(ContextProvider, \"mMV5r+69MuYen3awexF7cdEHy0Q=\");\n\n_c = ContextProvider;\nexport { ContextProvider, Context, useAppContext };\n\nvar _c;\n\n$RefreshReg$(_c, \"ContextProvider\");","map":{"version":3,"sources":["I:/My-work/Web-development/React 2022 Course/trivia-app/src/Components/Context.js"],"names":["React","createContext","useState","useEffect","useContext","Context","useAppContext","ContextProvider","props","isStartQuiz","setIsStartQuiz","arrQuestions","setArrQuestions","isPlayAgain","setIsPlayAgain","isShuffleAnswers","setIsShuffleAnswers","isAPIError","setIsAPIError","correctAnswers","setCorrectAnswers","score","setScore","selectedAnswers","setSelectedAnswers","startQuiz","newSelectedAnswersArr","newArr","forEach","item","push","id","correct_answer","selectedAnswer","checkAnswers","correctAnswersArr","filter","length","reset","getQuestions","fetch","then","res","json","data","results","catch","err","prevState","children"],"mappings":"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","sourcesContent":["import React, { createContext, useState, useEffect, useContext } from 'react'\r\n\r\nconst Context = createContext()\r\nconst useAppContext = () => useContext(Context);\r\n\r\nfunction ContextProvider(props) {\r\n\r\n    const [isStartQuiz, setIsStartQuiz] = useState(false)\r\n    const [arrQuestions, setArrQuestions] = useState([])\r\n    const [isPlayAgain, setIsPlayAgain] = useState(false)\r\n    const [isShuffleAnswers, setIsShuffleAnswers] = useState(false)\r\n    const [isAPIError, setIsAPIError] = useState(false)\r\n    const [correctAnswers, setCorrectAnswers] = useState(0)\r\n    const [score, setScore] = useState(0)\r\n    const [selectedAnswers, setSelectedAnswers] = useState([])\r\n\r\n    function startQuiz(){\r\n      setIsShuffleAnswers(true)\r\n      setIsStartQuiz(true)\r\n    }\r\n\r\n    function newSelectedAnswersArr(){\r\n      setSelectedAnswers(() => {\r\n        const newArr = []\r\n        arrQuestions.forEach(item => {\r\n          newArr.push({id: item.correct_answer, selectedAnswer: \"\"}) \r\n        });\r\n        return newArr\r\n      })\r\n    }\r\n\r\n    function checkAnswers(){\r\n      setIsShuffleAnswers(false)\r\n      setIsPlayAgain(true)\r\n      setCorrectAnswers(() => {\r\n        const correctAnswersArr = selectedAnswers.filter(item => (\r\n          item.selectedAnswer === item.id\r\n          )) \r\n          return correctAnswersArr.length\r\n        })\r\n      }\r\n      \r\n      \r\n    function reset(){\r\n      setArrQuestions([])\r\n      getQuestions()\r\n      setIsPlayAgain(false)\r\n      setCorrectAnswers(0)\r\n      setIsShuffleAnswers(true)\r\n    }\r\n    \r\n    function getQuestions(){\r\n      fetch('https://opentdb.com/api.php?amount=5&difficulty=easy&type=multiple&encode=base64')\r\n      .then(res=> res.json())\r\n      .then(data=> setArrQuestions(data.results))\r\n      .catch(err => {\r\n        setIsStartQuiz(false)\r\n        setIsAPIError(true)\r\n      })\r\n    }\r\n\r\n    useEffect(() => {\r\n      setScore(prevState => prevState + correctAnswers)\r\n    }, [correctAnswers])\r\n    \r\n    useEffect(() => {\r\n      newSelectedAnswersArr()\r\n    }, [arrQuestions])\r\n    \r\n    useEffect(() => {\r\n      getQuestions()\r\n    }, [])\r\n\r\n    return(\r\n        <Context.Provider \r\n            value={{\r\n                startQuiz, \r\n                isStartQuiz, \r\n                arrQuestions,\r\n                setCorrectAnswers,\r\n                checkAnswers,\r\n                isPlayAgain,\r\n                correctAnswers,\r\n                reset,\r\n                score,\r\n                isShuffleAnswers,\r\n                setSelectedAnswers,\r\n                selectedAnswers,\r\n                isAPIError\r\n        }}>\r\n            {props.children}\r\n        </Context.Provider>\r\n    )\r\n}\r\n\r\nexport { ContextProvider, Context, useAppContext }"]},"metadata":{},"sourceType":"module"}